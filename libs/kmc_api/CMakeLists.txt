cmake_minimum_required(VERSION 3.8 FATAL_ERROR)
project(kmc_api LANGUAGES CXX VERSION 1.0.0)

include(GNUInstallDirs)

set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/lib)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/lib)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/bin)

file(GLOB KMC_API_FILES "*.cpp" "*.h")

add_library(kmc_api ${KMC_API_FILES})

target_include_directories(kmc_api PUBLIC
    $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
    $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>)

install(TARGETS kmc_api DESTINATION ${CMAKE_INSTALL_LIBDIR})
install(DIRECTORY "." DESTINATION ${CMAKE_INSTALL_INCLUDEDIR})
